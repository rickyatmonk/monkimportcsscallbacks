/*! 
monkimportcsscallbacks
@version: 1.0.0
@date: 25-10-2013
@author: MonkDev

This callback is used to register the formats availabe in the 'Format' select 
list the way we want them. By default, tinymce applies classes to 'span' tags that 
it either wraps or inserts into the active WYSIWYG element. We want to apply our class 
tags directly to the active element. That is accomplished by using this 
'importcss_selector_converter' callback which overrides the default way that tinymce 
generates the formats.

The limitation is that block level elements still do not behave as expected when a class is 
applied while the block level element is the active 
element in the WYSIWYG editor.
*/
tinymce.PluginManager.add("monkimportcsscallbacks",function(a){a.settings.importcss_selector_converter=function(a){var b,c=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],d=["hr","table","tbody","thead","tfoot","th","tr","td","li","ol","ul","caption","dl","dt","dd","noscript","menu","isindex","samp","option","datalist","select","optgroup"],e=/^(?:([a-z0-9\-_]+))?(\.[a-z0-9_\-\.]+)$/i.exec(a);if(e){var f=e[1],g=e[2].substr(1).split(".").join(" ");return e[1]?(b={title:a},c[f]?b.block=f:d[f]?b.selector=f:b.inline=f):e[2]&&(b={selector:"div,p,h1,h2,h3,h4,h5,h6,td,th,li,img,a,span",title:a.substr(1),classes:g}),b}}});